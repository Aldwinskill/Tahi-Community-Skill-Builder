@using SkillBuilder.Models.ViewModels
@{
    var userRole = User.FindFirst(System.Security.Claims.ClaimTypes.Role)?.Value;
}
@model CourseCatalogViewModel

@{
    ViewData["Title"] = "Course Catalog";
    ViewData["IsCatalogPage"] = true;
    ViewData["UseCourseNavbar"] = true;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (Model.SelectedCourse != null)
{
    @Html.Partial("~/Views/Shared/Sections/_CourseDetailsSection.cshtml", Model.SelectedCourse)

    @if (userRole != "Admin")
    {
        @Html.Partial("Sections/_CourseSection", Model.Courses)
    }
}
else
{
    @Html.Partial("~/Views/Shared/Sections/_CourseCatalogSection.cshtml", Model.Courses)
}